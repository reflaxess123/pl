"""
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ProxyAPI —É—Ç–∏–ª–∏—Ç—ã
"""

from pl.proxy_api import ProxyAPIClient
import os

def main():
    # –í–∞—Ä–∏–∞–Ω—Ç 1: API –∫–ª—é—á —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    # –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞: PROXY_API_KEY=–≤–∞—à_–∫–ª—é—á
    
    # –í–∞—Ä–∏–∞–Ω—Ç 2: API –∫–ª—é—á –Ω–∞–ø—Ä—è–º—É—é (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω)
    # client = ProxyAPIClient(api_key="–≤–∞—à_api_–∫–ª—é—á_–∑–¥–µ—Å—å")
    
    try:
        # –°–æ–∑–¥–∞–µ–º –∫–ª–∏–µ–Ω—Ç (–∫–ª—é—á –∏–∑ .env —Ñ–∞–π–ª–∞)
        client = ProxyAPIClient()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å
        print("–ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å...")
        balance = client.get_balance()
        print(f"üí∞ –ë–∞–ª–∞–Ω—Å: {balance:.2f} ‚ÇΩ")
        
        # –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å
        print("\n–ó–∞–¥–∞–µ–º –≤–æ–ø—Ä–æ—Å...")
        response = client.generate_text(
            "–û–±—ä—è—Å–Ω–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, —á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?",
            max_tokens=200
        )
        print(f"\nü§ñ –û—Ç–≤–µ—Ç: {response}")
        
        # –ó–∞–ø—Ä–æ—Å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
        print("\n–ó–∞–ø—Ä–æ—Å —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é...")
        creative_response = client.generate_text(
            "–ù–∞–ø–∏—à–∏ –∫–æ—Ä–æ—Ç–∫—É—é —Å–º–µ—à–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ –∫–æ—Ç–∞-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞",
            temperature=0.9,
            max_tokens=300
        )
        print(f"\nü§ñ –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –æ—Ç–≤–µ—Ç: {creative_response}")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        print("\nüìù –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:")
        print("1. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª .env —Å –≤–∞—à–∏–º API –∫–ª—é—á–æ–º")
        print("2. –§–æ—Ä–º–∞—Ç: PROXY_API_KEY=–≤–∞—à_–∫–ª—é—á")
        print("3. –ù–∞ –±–∞–ª–∞–Ω—Å–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤")


if __name__ == "__main__":
    main() 