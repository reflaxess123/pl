# üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É Telegram Bot Web Manager –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Windows:

```cmd
run-web-docker.bat
```

### Linux/Mac:

```bash
./run-web-docker.sh
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: **http://localhost:8000**

## üìã –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª `.env` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```env
# ProxyAPI –∫–ª—é—á
PROXY_API_KEY=your_api_key_here

# Telegram API credentials
TELEGRAM_API_ID=your_api_id_here
TELEGRAM_API_HASH=your_api_hash_here
TELEGRAM_PHONE=your_phone_number_here

# –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
SYSTEM_PROMPT=–¢–≤–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```bash
mkdir -p session_data
mkdir -p data
```

### 3. –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞

```bash
docker-compose build pl-web
```

### 4. –ó–∞–ø—É—Å–∫ –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```bash
docker-compose --profile web up pl-web
```

### 5. –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose --profile web down
```

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏

### –í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

```bash
docker-compose --profile web up pl-web
```

- –í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ http://localhost:8000
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞–º–∏

### –¢–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:

```bash
docker-compose --profile cli up pl-bot
```

- –¢–æ–ª—å–∫–æ Telegram –±–æ—Ç –±–µ–∑ –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ö–æ–º–∞–Ω–¥—ã @gpt –≤ Telegram

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
docker-compose --profile dev up pl-dev
```

- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π bash –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –í—Å–µ —Ñ–∞–π–ª—ã –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```
pl/
‚îú‚îÄ‚îÄ session_data/          # –°–µ—Å—Å–∏–∏ Telegram (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
‚îú‚îÄ‚îÄ data/                  # –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
‚îú‚îÄ‚îÄ .env                   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
‚îî‚îÄ‚îÄ session.session        # –û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Å—Å–∏—è
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
# –ò–∑–º–µ–Ω–∏—Ç—å –≤ docker-compose.yml
ports:
  - "8080:8000"  # –í–Ω–µ—à–Ω–∏–π:–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
export WEB_PORT=8080
docker-compose --profile web up pl-web
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 8000
netstat -tulpn | grep :8000

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ docker-compose.yml
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Å—Å–∏–µ–π:

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–µ—Å—Å–∏–∏
rm -rf session_data/*
rm session.session
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏:

```bash
# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sudo chown -R 1000:1000 session_data/
sudo chown -R 1000:1000 data/
```

### –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs pl-web

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f pl-web
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```bash
docker-compose ps
```

### –†–µ—Å—É—Ä—Å—ã:

```bash
docker stats pl-web-interface
```

### –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
docker-compose exec pl-web bash
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose --profile web down

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker-compose build pl-web

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
docker-compose --profile web up pl-web
```

## üåê –î–æ—Å—Ç—É–ø –∏–∑ —Å–µ—Ç–∏

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Å–µ—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `docker-compose.yml`:

```yaml
ports:
  - "0.0.0.0:8000:8000"
```

–ó–∞—Ç–µ–º –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ IP —Å–µ—Ä–≤–µ—Ä–∞: `http://192.168.1.100:8000`

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –°–µ—Å—Å–∏–∏ –∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–æ–º–∞—Ö
- –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ –≤ –æ–±—Ä–∞–∑–µ

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

```bash
# –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª
docker-compose build pl-web
docker-compose --profile web up -d pl-web
docker-compose logs -f pl-web

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞
docker-compose --profile web down
docker system prune -f

# –ë—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö
tar -czf backup.tar.gz session_data/ data/ .env
```
